/**
 *  Daisy - v1.0.0 
 *  A daisy-chainable JavaScript money calculator 
 *  https://github.com/arecker/Daisy.git 
 **/
var daisy=function(){!function(){Array.isArray||(Array.isArray=function(a){return"[object Array]"===Object.prototype.toString.call(a)}),Array.prototype.reduce||(Array.prototype.reduce=function(a){"use strict";if(null==this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!=typeof a)throw new TypeError(a+" is not a function");var b,c=Object(this),d=c.length>>>0,e=0;if(2===arguments.length)b=arguments[1];else{for(;d>e&&!(e in c);)e++;if(e>=d)throw new TypeError("Reduce of empty array with no initial value");b=c[e++]}for(;d>e;e++)e in c&&(b=a(b,c[e],e,c));return b})}();var a=function(a){this.name="DaisyException",this.message=a},b=function(a,b,c){return a=a.toLocaleString(b),a.match(/[\d,\.]+/)[0]},c=function(a){var c=(+a.formatted).toFixed(a.decimalPlaces).split("."),d=+c[0],e=c[1]?"."+c[1]:"";return a.commas&&(d=b(d,a.locale)),d=a.hasDollarSign?"$"+d+e:d+e},d=function(b,c){var d=Number(b);if(isNaN(d)){if(c.supressInvalidNumbers)return 0;throw new a("'"+b+"' is not a valid number")}return d},e=function(a,b,c){return a=d(a,c),b=d(b,c),0===a?b:0===b?a:Math.abs(a)===Math.abs(b)&&(0>a&&b>0||0>b&&a>0)?0:a+b},f=function(a,b,c){return a=d(a,c),b=d(b,c),0===a?-b:0===b?a:a===b?0:a-b},g=function(a,b,c){return a=d(a,c),b=d(b,c),0===a?0:0===b?0:1===a?b:1===b?a:a*b},h=function(b,c,e){if(c=d(c),b=d(b),0===c){if(e.supressDivideByZero)return 0;throw new a("divided '"+b+"' by zero")}return 1===c?b:0===b?0:b===c?1:b/c},i=function(a,b){this.currentVal=a+"",this.options=b||{},this.options.round&&!this.options.format&&(this.options.format="n"),this.options.INR&&void 0===this.options.commas&&(this.options.commas=!0)};i.prototype.format=function(){var a,b=.01,d=0,e=this.options.format||"n.nn",f={up:"ceil",down:"floor",round:"round"}[this.options.round]||"round";return(e.match(/\./g)&&e.match(/\./g).length>1||/[^n\.0\$]/i.test(e))&&(e="n.nn"),e.replace(/n(0*)\.?(n*)/gi,function(a,c,e){if(c||e){var f=!c&&!!e;d=c?0:e.length||0,b=Math.pow(10,f?-d:c.length)}else b=1}),a=(Math[f](+this.currentVal/b)*b).toFixed(d),c({formatted:a,hasDollarSign:/\$/.test(e),decimalPlaces:d,commas:this.options.commas,locale:this.options.INR?"hi-IN":"en-US"})},i.prototype.equals=function(){var a=d(this.currentVal,this.options);return this.format(a)},i.prototype.plus=function(a){return this.currentVal=e(this.currentVal,a,this.options),this},i.prototype.minus=function(a){return this.currentVal=f(this.currentVal,a,this.options),this},i.prototype.times=function(a){return this.currentVal=g(this.currentVal,a,this.options),this},i.prototype.dividedBy=function(a){return this.currentVal=h(this.currentVal,a,this.options),this};var j=function(a,b){this.currentSet=a,this.options=b||{}};return j.prototype.sum=function(){var b=this;if(0===b.currentSet.length)throw new a("cannot operate on empty set");return new i(b.currentSet.reduce(function(a,c){return e(a,c,b.options)}))},j.prototype.average=function(){var b=this;if(0===this.currentSet.length)throw new a("cannot operate on empty set");var c=this.currentSet.reduce(function(a,c){return e(a,c,b.options)})/b.currentSet.length;return new i(c)},j.prototype.max=function(){var b,c;if(0===this.currentSet.length)throw new a("cannot operate on empty set");if(!this.options.supressInvalidNumbers)return new i(Math.max.apply(null,this.currentSet));for(c=d(this.currentSet[0],this.options),b=0;b<this.currentSet.length;b++)currentVal=d(this.currentSet[b],this.options),c<currentVal&&(c=currentVal);return new i(c)},j.prototype.min=function(){var b,c;if(0===this.currentSet.length)throw new a("cannot operate on empty set");if(!this.options.supressInvalidNumbers)return new i(Math.min.apply(null,this.currentSet));for(c=d(this.currentSet[0],this.options),b=0;b<this.currentSet.length;b++)currentVal=d(this.currentSet[b],this.options),c>currentVal&&(c=currentVal);return new i(c)},function(a,b){return Array.isArray(a)?new j(a,b):new i(a,b)}}();