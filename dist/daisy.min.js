/**
 *  Daisy - v1.0.0 
 *  A daisy-chainable JavaScript money calculator 
 *  https://github.com/arecker/Daisy.git 
 **/
var daisy=function(){!function(){Array.isArray||(Array.isArray=function(a){return"[object Array]"===Object.prototype.toString.call(a)}),Array.prototype.reduce||(Array.prototype.reduce=function(a){"use strict";if(null==this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!=typeof a)throw new TypeError(a+" is not a function");var b,c=Object(this),d=c.length>>>0,e=0;if(2===arguments.length)b=arguments[1];else{for(;d>e&&!(e in c);)e++;if(e>=d)throw new TypeError("Reduce of empty array with no initial value");b=c[e++]}for(;d>e;e++)e in c&&(b=a(b,c[e],e,c));return b})}();var a=function(a){this.name="DaisyException",this.message=a},b=function(a){var b=(+a.formatted).toFixed(a.decimalPlaces).split("."),c=+b[0],d=b[1]?"."+b[1]:"";return a.commas&&(c=c.toLocaleString(a.locale).match(/[\d,\.]+/)[0]),c=a.hasDollarSign?"$"+c+d:c+d},c=function(b,c){var d=Number(b);if(isNaN(d)){if(c.supressInvalidNumbers)return 0;throw new a("'"+b+"' is not a valid number")}return d},d=function(a,b,d){return a=c(a,d),b=c(b,d),0===a?b:0===b?a:Math.abs(a)===Math.abs(b)&&(0>a&&b>0||0>b&&a>0)?0:a+b},e=function(a,b,d){return a=c(a,d),b=c(b,d),0===a?-b:0===b?a:a===b?0:a-b},f=function(a,b,d){return a=c(a,d),b=c(b,d),0===a?0:0===b?0:1===a?b:1===b?a:a*b},g=function(b,d,e){if(d=c(d),b=c(b),0===d){if(e.supressDivideByZero)return 0;throw new a("divided '"+b+"' by zero")}return 1===d?b:0===b?0:b===d?1:b/d},h=function(a,b){this.currentVal=a+"",this.options=b||{},this.options.round&&!this.options.format&&(this.options.format="n"),this.options.INR&&void 0===this.options.commas&&(this.options.commas=!0)};h.prototype.format=function(){var a,c=.01,d=0,e=this.options.format||"n.nn",f={up:"ceil",down:"floor",round:"round"}[this.options.round]||"round";return(e.match(/\./g)&&e.match(/\./g).length>1||/[^n\.0\$]/i.test(e))&&(e="n.nn"),e.replace(/n(0*)\.?(n*)/gi,function(a,b,e){if(b||e){var f=!b&&!!e;d=b?0:e.length||0,c=Math.pow(10,f?-d:b.length)}else c=1}),a=(Math[f](+this.currentVal/c)*c).toFixed(d),b({formatted:a,hasDollarSign:/\$/.test(e),decimalPlaces:d,commas:this.options.commas,locale:this.options.INR?"hi-IN":"en-US"})},h.prototype.equals=function(){var a=c(this.currentVal,this.options);return this.format(a)},h.prototype.plus=function(a){return this.currentVal=d(this.currentVal,a,this.options),this},h.prototype.minus=function(a){return this.currentVal=e(this.currentVal,a,this.options),this},h.prototype.times=function(a){return this.currentVal=f(this.currentVal,a,this.options),this},h.prototype.dividedBy=function(a){return this.currentVal=g(this.currentVal,a,this.options),this};var i=function(a,b){this.currentSet=a,this.options=b||{}};return i.prototype.sum=function(){var b=this;if(0===b.currentSet.length)throw new a("cannot operate on empty set");return new h(b.currentSet.reduce(function(a,c){return d(a,c,b.options)}))},i.prototype.average=function(){var b=this;if(0===this.currentSet.length)throw new a("cannot operate on empty set");var c=this.currentSet.reduce(function(a,c){return d(a,c,b.options)})/b.currentSet.length;return new h(c)},i.prototype.max=function(){var b,d;if(0===this.currentSet.length)throw new a("cannot operate on empty set");if(!this.options.supressInvalidNumbers)return new h(Math.max.apply(null,this.currentSet));for(d=c(this.currentSet[0],this.options),b=0;b<this.currentSet.length;b++)currentVal=c(this.currentSet[b],this.options),d<currentVal&&(d=currentVal);return new h(d)},i.prototype.min=function(){var b,d;if(0===this.currentSet.length)throw new a("cannot operate on empty set");if(!this.options.supressInvalidNumbers)return new h(Math.min.apply(null,this.currentSet));for(d=c(this.currentSet[0],this.options),b=0;b<this.currentSet.length;b++)currentVal=c(this.currentSet[b],this.options),d>currentVal&&(d=currentVal);return new h(d)},function(a,b){return Array.isArray(a)?new i(a,b):new h(a,b)}}();